using Nemerle.Extensions;
using Nemerle.Utility;

namespace Nemerle.Peg
{
  [Record, StructuralEquality, StructuralHashCode]
  public struct NToken : IToken
  {
    [Accessor]  private _startPos : int;
    [Accessor]  private _endPos   : int;
    [Accessor]  private _text     : string;
    [Accessor]  private _name     : string;

    public GetText() : string { _text.Substring(_startPos, _endPos - _startPos) }

    public IsEmpty : bool { get { StartPos == EndPos } }

    public override ToString() : string
    {
      $<#"$_name: Start: $_startPos Len: $(_endPos - _startPos) Data: "$(GetText())"#>;
    }
  }
}
