using System;
using System.IO;
using System.Security;
using System.Security.Permissions;

#if !NET_4_0
[assembly: SecurityPermission (SecurityAction.RequestOptional, Execution=true)]
#else
[assembly: SecurityPermission (SecurityAction.RequestOptional, Execution=true)] // W: N618
#endif

module Test
{
  Main () : void
  {
  	try
  	{
      File.Create ("dummy").Close ();
      File.Delete ("dummy");
    }
    catch
    {
    | ex => Console.WriteLine (ex.GetType ().Name)
    }

#if NET_4_0
	Console.WriteLine ("SecurityException");
#else	
	when (Type.GetType ("Mono.Runtime") != null)
      Console.WriteLine ("SecurityException");
#endif	  
  }
}

/*
BEGIN-OUTPUT
SecurityException
END-OUTPUT
*/
