\documentclass[a4paper,11pt]{article}
\usepackage[compat2,nofoot,headheight=14pt]{geometry}
\usepackage{fancyhdr}
\renewcommand{\ttdefault}{cmtt}
\renewcommand{\sfdefault}{pag}
\usepackage{url,array}

%\setlength{\parindent}{0pt}
%\setlength{\parskip}{5pt}

\overfullrule1pt

\hyphenation{De-bug-ger In-ter-pre-ter Spe-ci-fi-ca-tion}

\pagestyle{fancy}
\lhead{The Nemerle Project}
\rhead{\thepage}
\cfoot{}

\title{The Nemerle Project}
\author{Response to\\Second Rotor Request for Proposal}
\date{}

\begin{document}

\maketitle
\thispagestyle{empty}

\section{Overview}

\subsection{Project Title}

Nemerle -- design and implementation of a new hybrid .NET language.

\subsection{Contributor Names}
Micha{\l} Moskal, Pawe{\l} Olszta, Kamil Skalski, Prof. Leszek Pacholski, Marcin M{\l}otkowski,
Tomasz Wierzbicki.

\subsection{Abstract}

The objective of this project is to design and implement a new 
hybrid (functional, object-oriented and imperative) programming 
language for the .NET platform. Key features of the language 
include: simplicity, a C\#-like syntax, easy to use object 
system (derived directly from the .NET), powerful code-generating 
macros, variants, pattern matching and type inference. We plan 
to make the language a full CLS consumer and producer, which 
fits the .NET as good as, for example, C\# does. More information
about the language and our motivations can be found in \cite{Intro}.

So far we have created a bootstrapping Nemerle compiler featuring
almost complete CLS integration and a meta-programming system,
making Nemerle the first .NET language supporting powerful 
statically typed macroprogramming.

In the later stage of the project we will focus on investigating 
optimization opportunities raising as consequence of tightening 
the language's type system. We will also try to investigate 
which way of implementing features crucial to a functional 
language would yield the best performance on the SSCLI and 
the current .NET framework.


\section{Contact Details}


\subsection{Institution Details}

\begin{quote}
Institute of Computer Science\\
University of Wroc\l aw\\
ul.\ Przesmyckiego 20\\
PL--51--151 Wroc\l aw\\
Poland\\[2ex]
phone: 0048 71 3251271\\
fax:   0048 71 3756244\\
URL: \url{http://www.ii.uni.wroc.pl/}\\
URL: \url{http://nemerle.org/}
\end{quote}


\subsection{Contributor Details}
\begin{itemize}

\item
Micha{\l} Moskal (\texttt{Michal.Moskal@nemerle.org}), a master's
student and coordinator of the project. He was working on several large
programming projects, including a few programming languages. URL: 
\url{http://www.kernel.pl/~malekith/}

\item
Pawe{\l} Olszta (\texttt{Pawel.Olszta@nemerle.org}), a master's student
and compiler developer. He has several years of industry experience, 
including 3 months spent in Redmond as an SDE intern. 

\item
Kamil Skalski (\texttt{Kamil.Skalski@nemerle.org}), a master's student.
He is responsible for the macro system design and implementation.

\item
Prof. Leszek Pacholski (\texttt{Leszek.Pacholski@ii.uni.wroc.pl}), 
director of The Institute.

\item
Marcin M\l otkowski (\texttt{Marcin.Mlotkowski@ii.uni.wroc.pl}), 
lecturer at Wroc\l aw University.

\item
Tomasz Wierzbicki (\texttt{Tomasz.Wierzbicki@ii.uni.wroc.pl}), 
assistant at Wroc\l aw University.

\end{itemize}

There are also several other students involved in the project
responsible for minor subsystems and tool development.


\section{Project Description}

\subsection{Background}
Building a programming language on the .NET framework base, makes large
variety of libraries for performing everyday programming tasks immediately
available. On the other hand lack of libraries (and in general problems
with implementation) seem to be one of the major stoppers for functional
programming languages. Designing a language that will provide an easy way
to access both its functional features and object-oriented .NET world
would be a major win.

The problem with ports of existing languages is retaining backward
compatibility -- it makes accessing .NET features harder.


\subsection{Project Details}

We have focused on creating a language that would not only be interesting
from the academic research point of view but that could also attract
people that have not been exposed to the functional programming paradigm
before. In order to make the transition easier we have chosen to imitate 
the C\# syntax -- to some reasonable extent of course. 

The main difference between the languages is that we do not differentiate 
between expressions and statements in Nemerle (which is pretty typical 
for a functional language). This makes flow control more straightforward
-- programs are easier to understand and maintain.

The language has currently reached an acceptable state of usability.
A large class of useful programs can already be written, for example
there is some work done to build an HTTP server and a number of
useful tools has already been written.

Implemented features include type inference, variants (akin of ML
datatypes, but can inherit from other objects) and matching.

Currently we need to add some features to the compiler that will make
it a full CLS producer. CLS consumption is only missing events and
delegates and is planned to be completed as part of the 0.2 release
(see the Milestones section below).

The next major stage in the compiler development will be adding some
sophisticated optimizers and extending the macro system over the whole
language -- right now macros operate on expression level only.

The compiler currently uses boxing techniques to achieve parametric
polymorphism.  However the typesystem is largely modeled after .NET
Generics design \cite{generics}. We plan to start working on 
generics-aware code generator soon. As the desktop version of 
the Framework with generics is not yet available, we are going
to use Rotor with the Gyro patches.


\subsection{Academic Relevance}

From the academic perspective, probably the most interesting part of
the language is our macro system. It extends the ideas found in the
Meta-Haskell \cite{MetaHaskell} language, incorporating them into
imperative and object-oriented .NET environment. Our meta-system fits
very well into paradigm of Aspects-Oriented Programming. It allows
algorithmic operation on code and type definitions.

% collaboration with outside groups? MSR?
% cos jeszcze extendujemy, zebysmy mogli tu napisac?


\subsection{Experience}

Micha{\l} Moskal, the project coordinator has implemented a few
toy-languages and three bigger ones. First one was Ksi -- front end for
GCC compiler, with lispy syntax, exposing internal syntax trees used in
GCC, thought as back end for other compilers.  Second one was Gont --
C-like language with parametric polymorphism, type inference, garbage
collection and higher order functions. The bootstraping Gont compiler
emits Ksi or C. The third one -- ET version 2 -- was interpreter for
language described by Zdzis{\l}aw Sp{\l}awski in his PhD dissertation.
It has strong normalization property, typesystem and syntax similar to ML,
semantics given by Lambda-2 translation, and has interesting connections
with Proof Theory.

Other students working on the project have industry experience, including
.NET technologies. We are working with staff of the Programming Languages
Group\footnote{\url{http://www.ii.uni.wroc.pl/view_div.phtml?lang=en&id=4}}
in our institute.

\section{Project Plan}

\subsection{Deliverables/Milestones}
\begin{itemize}
\item version 0.1, scheduled Feb 15 2004. Features:
  mostly stable compiler and language;
  preliminary version of \textit{Reference Manual}; 
  macros working at the expression level.

\item version 0.2, scheduled Apr 15 2004. Features:
  most of CLS compatibility;
  macros on type definitions;
  documentation generation system;
  good pattern matching optimizations;
  some other simple optimizations;
  production version of \textit{Reference Manual};
  preliminary version of \textit{Nemerle for C\# Programmers} tutorial.
  
\item version 0.3, scheduled Jun 15 2004. Features:
  full CLS compatibility (producer/consumer);
  code generator using Generics;
  more compiler optimizations;
  production version of tutorial.
\end{itemize}


\subsection{Intellectual Property}

We're going to publish research papers in the area, especially concerning
language's meta-system \cite{Macros}. However, main outcome of the project
is language implementation and documentation. Both will be released
under BSD-style license\footnote{\url{http://nemerle.org/license.html}}.
Preliminary versions are already available under this license.


\section{Supporting Information}


\subsection{Costing}

Planned expenses:

\begin{itemize}
  \item cost of travel to the final workshop 
    in Redmond for the core team -- 3000 euro
  \item conferences -- 3000 euro
  \item overheads -- 1000 euro
  \item salaries -- 500 euro per month per person
    for 6 people for 6 months -- 18000 euro total
\end{itemize}

Grand total: 25000 euro.


%\subsection{References}

\begin{thebibliography}{22}
\bibitem {generics}
Kennedy, A., Syme, D.:
Design and Implementation of Generics for the .NET Common Language Runtime.
Proceedings of PLDI, Jun. 2001.
\bibitem {Intro}
Moskal, M., Olszta, P., Skalski, K.:
Nemerle. Introduction to a Functional .NET Language.
Available from \url{http://nemerle.org/intro.pdf}.
\bibitem {MetaHaskell}
Sheard, T., Jones, S. P.:
Template Meta-programming for Haskell.
Haskell Workshop, Oct. 2002, Pittsburgh.
\bibitem {Macros}
Skalski, K., Moskal, M., Olszta, P.:
Meta-programming in Nemerle.
Pending submission for GPCE04. Available on request.
\end{thebibliography}


\end{document}

% ``letters of support'' from your institution or external groups ?
% 
