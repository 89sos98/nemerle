open Nemerle;
open Nemerle.Compiler;
open Nemerle.Compiler.Parsetree;

class M
  {
    static g () : void { 
      def y = <[ [] ]>;
      def x = <[ if (2 + 2 == 4) 1 else 2 ]>; 
//      def x = <[ 2 + 2 ]>;
      Nemerle.Compiler.Macros.print_tree (x, "");
(*      def k =
        match (x) {
	  | <[ if ( $(a) + $(b) == $(c) ) $(d) else $(e) ]> => (a,b,c,d)
          | _ => (0,0,0,0)
        };
*)
      ()
    }
    static f () : void { M.g () }
  }
