\newcommand{\net}[0]{{\tt .NET}}
\newcommand{\kw}[1]{{\textcolor{kwcolor}{\tt #1}}}

\definecolor{kwcolor}{rgb}{0.2,0.4,0.0}
\definecolor{lgray}{rgb}{0.8,0.8,0.8}

\title{Nemerle}
\author{Micha{\l} Moskal, Kamil Skalski}
\institute{Instytut Informatyki Uniwersytetu Wroc³awskiego \\
Konferencja grup \net, Wroc³aw}
\date{2 grudnia 2004}


\begin{document}

\section{Wstêp}

\frame{\titlepage}

\frame{
\frametitle{Cechy Nemerle}
\begin{itemize}
  \item jêzyk programowania wysokiego poziomu
  \item od pocz±tku projektowany z my¶l± o \net
  \item funkcjonalny i obiektowy
  \item potê¿ny system metaprogramowania
  \item system asercji
\end{itemize}
}


\frame{
\frametitle{Czemu \net\ ?}

\begin{itemize}
  \item szeroki dostêp do bibliotek
  \item ¶rodowisko uruchomieniowe (od¶miecanie, JIT)
  \item przeno¶ne pliki wykonywalne (Microsoft \net, Mono, DotGNU, Rotor)
  \item dynamiczne ³adowanie klas
  \item dynamiczna generacja kodu
\end{itemize}
}

\frame{
\frametitle{Po co to to?}

\begin{itemize}
  \item u¿ywanie ró¿nych funkcjonalno¶ci platformy \net\ jest znacznie ³atwiejsze
        w C\# ni¿ w adaptacjach istniej±cych jêzyków funkcjonalnych
\begin{itemize}
  \item SML.NET -- \texttt{valOf}, deklaracje \texttt{export}, brak properties
  \item F\# -- brak mo¿liwo¶ci definicji klas
  \item Mondrian -- dynamiczne typowanie
\end{itemize}
  \item ³atwo¶æ definicji kontra ³atwo¶æ u¿ycia
  \item ³atwy dostêp do cech imperatywnych
  \item prosty system obiektowy (bezpo¶rednio z \net)
\end{itemize}
}

\frame{
\frametitle{Wiêc jak z tym jêzykiem?}

\begin{itemize}
  \item sk³adnia przypomina C\#, szczególnie na poziomie definicji klas i metod
  \item wyra¿enia syntaktycznie z C\#, semantycznie z ML-a
  \begin{itemize}
    \item brak instrukcji -- tylko wyra¿enia
    \item dopasowanie wzorca na wariantach
    \item funkcje jako obywatele pierwszej kategorii
  \end{itemize}
\end{itemize}
}


\section{Wszyscy lubimy przyk³ady}

\frame[containsverbatim]{
\frametitle{Cze¶æ}

\begin{verbatim}
class Hello {
  public static Main () : void
  {
    System.Console.Write ("Hello world!\n");
  }
}
\end{verbatim}
}


\frame[containsverbatim]{
\frametitle{Brak inferencji}
\begin{verbatim}
// C#
public static void SendMessage (byte[] addr, int port, 
                                string data)
{
  IPEndPoint ip = new IPEndPoint (new IPAddress (addr), port);
  TcpClient client = new TcpClient (ip);
  NetworkStream str = client.GetStream ();
  byte[] data = Encoding.UTF8.GetBytes (data);
  str.Write (data, 0, data.Length);
  client.Close ();
}
\end{verbatim}
}

\frame[containsverbatim]{
\frametitle{Inferencja}
\begin{verbatim}
// Nemerle
public static SendMessage (addr : array [byte],
                           port : int, data : string) : void
{
  def ip = IPEndPoint (IPAddress (addr), port);
  def client = TcpClient (ip);
  def str = client.GetStream ();
  def data = Encoding.UTF8.GetBytes (data);
  str.Write (data, 0, data.Length);
  client.Close ();
}
\end{verbatim}
}


\frame[containsverbatim]{
\frametitle{Brak inferencji II}
\begin{verbatim}
public static
Dictionary<string, int> CountEach (string[] args)
{
  Dictionary<string, int> d = new Dictionary<string, int>();
  foreach (string s in args) {
    if (d.ContainsKey (s))
      d[s] += 1;
    else
      d[s] = 1;
  }
  return d;
}
\end{verbatim}
}

\frame[containsverbatim]{
\frametitle{Inferencja II}
\begin{verbatim}
public static
CountEach (args : array [string]) : Dictionary [string, int]
{
  def d = new Dictionary ();
  foreach (s in args) {
    if (d.ContainsKey (s))
      d[s] += 1;
    else
      d[s] = 1;
  }
  d
}
\end{verbatim}
}

\frame[containsverbatim]{
\frametitle{Assercje}
\begin{verbatim}
interface ICollection {
  Contains ([NotNull] key : object) : bool;
  
  [Require (!Contains (key))]
  Add ([NotNull] key : object, value : object) : bool;
		 
  Size : int { get; }

  [Ensure (Size == 0)]
  Clear () : void;
}
\end{verbatim}
}

\section{Makra}
\frame{
\frametitle{Makra}
\begin{itemize}
  \item ³adowane dynamicznie wtyczki (DLL-e) do kompilatora
  \item w szczególno¶ci -- CPP mówimy \textbf{Nie!}
  \item pisane w Nemerle
  \item pracuj± w ¶rodku kompilatora na jego strukturach danych
  \item mog± czytaæ pliki, patrzeæ do bazy danych etc.
\end{itemize}
}


\frame{
\frametitle{U¿ycia makr}
\begin{itemize}
  \item wyspecjalizowane podjêzyki ({\tt printf}, {\tt scanf}, wyra¿enia regularne,
    SQL, XML, XPath)
  \item AOP
  \item tworzenie programów z programów (serializacja, specjalizacja kodu)
  \item implmentacja interpreterów
\end{itemize}
}

\section{Podsumowanie}
\frame{
\frametitle{Status}

\begin{itemize}
  \item kompilator kompiluje sam siebie
  \item wydana wersja 0.2
  \item CLS consumer/producer
  \item biblioteka standardowa
  \item makra
  \item \textcolor{blue}{\tt http://nemerle.org/}
\end{itemize}
}

\frame{
\frametitle{TODO}

\begin{itemize}
  \item wykorzystaæ \net\ generics
  \item dalsze prace nad systemem makr (AOP)
  \item rozszerzenie dokumentacji
  \item definicje formalne (semantyka, system typów, inferencja typów)
\end{itemize}
}

\end{document}

% vim: language=polish
