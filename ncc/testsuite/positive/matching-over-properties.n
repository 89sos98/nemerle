using Nemerle.IO;

[Record]
class A {
  public X : int;
  public SomeProp : int
  {
    get { X + 3 }
  }

  public BoolProp : bool
  {
    get { false }
  }
}

class C 
{
    public static Main():void
    {
      match (A (42)) {
        | A where (X = 42, SomeProp = 42) =>
          print ("bad\n");

        | A where (X = 42, SomeProp = 45) =>
          print ("good\n");
          
        | _ =>
          print ("wtf?\n");
      }
      
      match (A (42)) {
        | A where (BoolProp = true) =>
          print ("bad\n");

        | A where (BoolProp = false) =>
          print ("good\n");
          
        | _ => // W: this match clause is unused
          print ("wtf?\n");
      }
      
      match (A (42)) { // W: this matching is not exhaustive, example unmatched value
        | A where (BoolProp = false) =>
          print ("great\n");
      }
    }
}
  
