
module M {
  mutable uid : int;
  
  f () : int { uid <- uid + 1; uid }
  
  public Main () : void {
    printf ("Ala %d ma %s i %s\n", 101010, "koat", "paes");
    printf ("Dziala%s czy %d nie %d %s\n", " mi to", 3, 4, "dziala?");

    uid <- 0;
    mutable i <- 1;
    mutable n <- 1;
    while (i < 6) {
      printf("licze %d\n", n);
      i <- i + 1;
      n <- i * n;
    };

    mutable a <- 1;
    mutable b <- 2;
    def x = System.Text.StringBuilder ("alabal");
    printf ("a %d, b %d x %s\n", a, b, x.ToString ());
    a <-> b;
    x[f()] <-> x[f()];
//    x.Chars (f()) <-> x.Chars (f());
    printf ("a %d, b %d x %s\n", a, b, x.ToString ());
    

    mutable teststr <- 
      sprintf ("Dynamicznie %s string o %s %d i z %d numerkiem\nA to druga %s\n",
               "generowany", "liczba", 2, 3, "linijka");
    System.Console.Write (teststr);

    def a = 1; def b = "bla";
    print ("foo $a bl\nah $b krad\n");
  }
}

/*
BEGIN-OUTPUT
Ala 101010 ma koat i paes
Dziala mi to czy 3 nie 4 dziala?
licze 1
licze 2
licze 6
licze 24
licze 120
a 1, b 2 alabal
a 2, b 1 aalbal
Dynamicznie generowany string o liczba 2 i z 3 numerkiem
A to druga linijka
foo 1 bl
ah bla krad
END-OUTPUT
*/
