
public variant Stmt {
  | S_label { name : string; }
  | S_if { 
      cond : What * Direction; 
      then_part : list <Stmt>; 
      else_part : list <Stmt>; 
    }
  | S_goto { target : string; }
  | S_mark { color : int; }
  | S_unmark { color : int; }
  | S_pickup { 
      food : list <Stmt>; 
      no_food : list <Stmt>;
    }
  | S_drop
  | S_turn { is_left : bool; }
  | S_move {
      moved : list <Stmt>;
      blocked : list <Stmt>;
    }
  | S_ifrand {
      max : int;
      if_zero : list <Stmt>;
      if_not_zero : list <Stmt>;
    }
}

public variant What {
  | C_friend
  | C_foe
  | C_friend_with_food
  | C_foe_with_food
  | C_food
  | C_rock
  | C_marker { color : int; }
  | C_foe_marker
  | C_home
  | C_foe_home
}

public variant Direction {
  | D_here
  | D_ahead
  | D_left
  | D_right
}
