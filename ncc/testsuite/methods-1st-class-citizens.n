using Nemerle.Collections;

class Adder {
  val : int;
  public m (x : int) : void { System.Console.WriteLine (x + val) }
  public m2 () : void { List.Iter ([10,11,12], m); }
  public this (x : int) { val <- x; }
}

module M {
  public Main () : void {
    def l = [1,2,3];
    def a1 = Adder (1);
    def a2 = Adder (2);
    List.Iter (l, a1.m);
    List.Iter (l, a2.m);
    a1.m2();
    a2.m2();
  }
}

/*
BEGIN-OUTPUT
2
3
4
3
4
5
11
12
13
12
13
14
END-OUTPUT
*/
